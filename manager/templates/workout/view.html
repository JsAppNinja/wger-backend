{% extends "base.html" %}
{% load i18n %} 
{% load staticfiles %}
{% load manager_extras %} 

{% block title %}{% trans "Workout for" %} {{ workout.creation_date }}{% endblock %}

{% block header %}
<script src="{% static 'js/jquery-ui.js' %}"></script>
<script src="{% static 'js/workout-manager.js' %}"></script>
<script>

$(document).ready(function() {	
	// Allow the sets to be sortable
	setup_sortable();
	
	// Init the modal dialog to edit the exercise
	form_modal_dialog();
	
	// Show/Hide the comments to the exercises
	{% if user.userprofile.show_comments %}
		showComment = 1;
        $(".exercise-comments").show();
    {% else %}
    	showComment = 0;
        $(".exercise-comments").hide();
    {% endif %}
	
	toggle_comments();
 });
</script>
{% endblock %}

{% block content %}
<h2> {% trans "Workout for" %} {{ workout.creation_date }}</h2>

<div>
<a id="exercise-comments-toggle" href="#">
    {% trans "Show/Hide exercise comments" %}
</a>
</div>

{% for day in workout.day_set.select_related %}
	<div id="div-day-{{ day.id }}">
		{% render_day day %}
	</div>
{% empty %}
<p class="box warning">
    {% trans "No days for this workout." %} {% trans "Use link to add one." %}
</p>
{% endfor %}


<p><a href="{% url manager.views.edit_day workout.id day.id %}">{% trans "Add training day" %}</a></p>

{% endblock %} <!--day in workout-->



<!--
        Side bar
-->
{% block sidebar %}
<h3>{% trans "Steps" %}</h3>

<ol>
    <li>{% trans "Add training days" %}</li>
    <li>{% trans "Add working sets to days" %}</li>
    <li>{% trans "Edit exercise settings for sets" %}</li>
</ol>


<h3>{% trans "Muscles trained" %}</h3>

<p>
    {% trans "Image show combined muscles as trained by the exercises on the workout." %}
    {% trans "A darker colour indicates a higher number of exercises that train that specific part." %}
</p>

<div class="ym-grid linearize-level-1">
    <div class="ym-g50 ym-gl">
        <div class="ym-gbox-left">
            <div id="muscle-front"
                 class="muscle-background"
                 style="width: 120px; height: 220px; background-size: 120px; background-image: {% for background in muscle_backgrounds_front %}url({% static background %}){% if not forloop.last %},{% endif %}{% endfor %};">
            </div>
        </div>
    </div>
    <div class="ym-g50 ym-gr">
        <div class="ym-gbox-right">
            <div id="muscle-front"
                     class="muscle-background"
                     style="width: 120px; height: 220px; background-size: 120px; background-image: {% for background in muscle_backgrounds_back %}url({% static background %}){% if not forloop.last %},{% endif %}{% endfor %};">
            </div>
        </div>
    </div>
</div>

<h3>{% trans "Options" %}</h3>
<a href="{% url manager.views.pdf_workout workout.id %}"
   target="_blank">
    <img src="{% static 'images/icons/save.svg' %}"
         width="32"
         height="32"
         alt="{% trans 'Download as PDF' %}"
         title="{% trans 'Download as PDF' %}">
    {% trans "Download as PDF" %}
</a>


<h3>{% trans "Delete" %}</h3>
<a href="{% url manager.views.delete_workout workout.id %}">
    <img src="{% static 'images/icons/trash.svg' %}"
         width="32"
         height="32"
         alt="{% trans 'Delete' %}">
    {% trans "Delete this workout" %}
</a>

{% endblock %}
